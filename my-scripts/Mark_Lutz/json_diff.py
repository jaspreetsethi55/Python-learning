json1 = {
      "instrument_id":19296233,
      "master_information":{
         "instrument_master":{
            "apex_asset_type":7,
            "apex_asset_type_descr":[ {'a':1} ,{'b':2},{'d':3},{'e':4}, {'f':9}],
            "child_issue_ind":'false',
            "country_of_risk":"RU",
            "eval_quotation_basis":1,
            "eval_quotation_basis_descr":"Per Share",
            "federal_tax_status":2,
            "federal_tax_status_descr":"Taxable",
            "instrument_status":1,
            "instrument_status_descr":"Live",
            "instrument_type":4,
            "instrument_type_descr":"Equity",
            "primary_currency_code":"USD",
            "primary_exchange":"RUSX",
            "primary_market_code":"MISX",
            "primary_name":"RUB1(USD)",
            "accrued_interest":{
               "ex_div_date_ind":'false'
            }
         },
         "instrument_xref":{
            "bloomberg_symbology":[
               {
                  "bb_bsid":"",
                  "bb_ticker":"KRPE",
                  "bb_unique_id":"EQ0000000000321372",
                  "bbgid":"BBG000C6F229",
                  "bbgid_composite":"BBG000C6F1T2",
                  "exch_code":"RR",
                  "id_bb_global_share_class_level":"BBG001SF3L67",
                  "id_bb_sec_num":"KRPE",
                  "market_sector":"Equity",
                  "security_typ":"Common Stock",
                  "security_typ2":""
               },
               {
                  "bb_bsid":"",
                  "bb_ticker":"KRPE",
                  "bb_unique_id":"EQ0000000000321372",
                  "bbgid":"BBG000C6F1T2",
                  "bbgid_composite":"BBG000C6F1T2",
                  "exch_code":"RU",
                  "id_bb_global_share_class_level":"BBG001SF3L67",
                  "id_bb_sec_num":"KRPE",
                  "market_sector":"Equity",
                  "security_typ":"Common Stock",
                  "security_typ2":""
               }
            ],
            "isin":"RU000A0JNZD9"
         },
         "market_master":{
            "market":[
               {
                  "accrued_interest":{
                     "ex_div_date_ind":'false'
                  },
                  "country_of_quotation":"RU",
                  "currency_code":"USD",
                  "id":15810722,
                  "listing_trading_status":1,
                  "mic":"RUSX",
                  "never_priced_indicator":'false',
                  "primary_market_ind":'true',
                  "quotation_basis":"1",
                  "quotation_basis_descr":"Per Share",
                  "xref":{
                     "analystics_id_type_id":"21",
                     "cva_code_type_id":12,
                     "idii_type_id":4,
                     "quick_code_type_id":13,
                     "rts_ticker_type_id":19,
                     "sedol":"7217063",
                     "sedol_type_id":3,
                     "status":"Live",
                     "status_id":1,
                     "ticker":"KRPE",
                     "ticker_type_id":17
                  }
               }
            ]
         },
         "organization_master":{
            "country_of_risk":"RU",
            "org_country_code":"RU",
            "organization_id":22110067,
            "organization_status":6,
            "organization_status_descr":"Live",
            "organization_type":67,
            "organization_type_descr":"Corporation",
            "primary_name":"Krasny Perekop (Ya",
            "business_entity":{
               "issuer":{
                  "address":[
                     {
                        "address1":"63 Ul Stachek",
                        "type":"Mailing Address",
                        "type_id":2
                     },
                     {
                        "address1":"63 Ul Stachek",
                        "city":"Yaroslavl",
                        "country":"RU",
                        "postal_code":"150002",
                        "type":"Physical Address",
                        "type_id":4
                     }
                  ],
                  "bankruptcy_open_ind":'false',
                  "business_registration_num":"1027600792559",
                  "company_legal_form":"corporation",
                  "out_of_business_ind":'false',
                  "phone":"4852270836",
                  "prev_registered_name":"Joint-Stock Company \"Yaroslavsk Combine of Technical Tissue\" Red Perekop \"",
                  "publicly_traded_ind":'false',
                  "registered_name":"Krasny Perekop, AO",
                  "trade_style":"Oao \"Krasny Perekop\""
               },
               "parent":{
                  "address":[
                     {
                        "address1":"63 Ul Stachek",
                        "type":"Mailing Address",
                        "type_id":2
                     },
                     {
                        "address1":"63 Ul Stachek",
                        "city":"Yaroslavl",
                        "country":"RU",
                        "postal_code":"150002",
                        "type":"Physical Address",
                        "type_id":4
                     }
                  ],
                  "bankruptcy_open_ind":'false',
                  "business_registration_num":"1027600792559",
                  "out_of_business_ind":'false',
                  "phone":"4852270836",
                  "prev_registered_name":"Joint-Stock Company \"Yaroslavsk Combine of Technical Tissue\" Red Perekop \"",
                  "publicly_traded_ind":'false',
                  "registered_name":"Krasny Perekop, AO",
                  "trade_style":"Oao \"Krasny Perekop\""
               },
               "ultimate_parent":{
                  "address":[
                     {
                        "address1":"63 Ul Stachek",
                        "type":"Mailing Address",
                        "type_id":2
                     },
                     {
                        "address1":"63 Ul Stachek",
                        "city":"Yaroslavl",
                        "country":"RU",
                        "postal_code":"150002",
                        "type":"Physical Address",
                        "type_id":4
                     }
                  ],
                  "bankruptcy_open_ind":'false',
                  "business_registration_num":"1027600792559",
                  "company_legal_form":"corporation",
                  "country_of_risk":"RU",
                  "out_of_business_ind":'false',
                  "phone":"485227083",
                  "prev_registered_name":"Joint-Stock Company \"Yaroslavsk Combine of Technical Tissue\" Red Perekop \"",
                  "publicly_traded_ind":'false',
                  "registered_name":"Krasny Perekop, AO",
                  "trade_style":"Oao \"Krasny Perekop\""
               }
            },
            "organization_xref":{
               "issuer_duns":"357843346",
               "parent_duns":"357843346",
               "ult_parent_duns":"357843346"
            }
         }
      },
      "global_information":{
         "country_information":{
            "instrument_country_information":{
               "country_code":"RU",
               "holiday_schedule":"R"
            }
         },
         "organization_information":{
            "classifications":{
               "primary_naics_code":313210,
               "sic_code":2211
            }
         }
      },
      "debt":{
         "cmo_details":{
            "factor_parent_ind":0
         },
         "fixed_income":{
            "child_indicator":'false'
         }
      },
      "equity":{
         "equity_details":{
            "capital_gains_tax_type":1,
            "equity_type":1,
            "equity_type_descr":"Common/Ordinary Stock",
            "instrument_form":1,
            "instrument_form_descr":"Registered",
            "issued_capital_effective_date":"2001-09-21",
            "par_value":1.0000000,
            "par_value_currency":"RUB",
            "ptm_levy_flag":78,
            "shares_beneficial_int_flag":'false',
            "shares_outstanding":422851,
            "shares_outstanding_effective_date":"2001-09-21",
            "total_shares_outstanding_effective_date":"2001-09-21",
            "voting_rights_code":4
         }
      }
   }

json2 =    {
      "instrument_id":19296285,
      "master_information":{
         "instrument_master":{
            "apex_asset_type":7,
            "apex_asset_type_descr":[ {'c':8},{'b':5},{'d':3},{'e':7}],
            "child_issue_ind":'false',
            "country_of_risk":"RU",
            "eval_quotation_basis":1,
            "eval_quotation_basis_descr":"Per Share",
            "federal_tax_status":3,
            "federal_tax_status_descr":"Taxable",
            "instrument_status":1,
            "instrument_status_descr":"Live",
            "instrument_type":4,
            "instrument_type_descr":"Equity",
            "primary_currency_code":"USD",
            "primary_exchange":"RUSX",
            "primary_market_code":"MISX",
            "primary_name":"RUB1(USD)",
            "accrued_interest":{
               "ex_div_date_ind":'false'
            }
         },
         "instrument_xref":{
            "bloomberg_symbology":[
               {
                  "bb_bsid":"",
                  "bb_ticker":"KRPE",
                  "bb_unique_id":"EQ0000000000321372",
                  "bbgid":"BBG000C6F229",
                  "bbgid_composite":"BBG000C6F1T2",
                  "exch_code":"RR",
                  "id_bb_global_share_class_level":"BBG001SF3L67",
                  "id_bb_sec_num":"KRPE",
                  "market_sector":"Equity",
                  "security_typ":"Common Stock",
                  "security_typ2":""
               },
               {
                  "bb_bsid":"",
                  "bb_ticker":"KRPE",
                  "bb_unique_id":"EQ0000000000321372",
                  "bbgid":"BBG000C6F1T2",
                  "bbgid_composite":"BBG000C6F1T2",
                  "exch_code":"RU",
                  "id_bb_global_share_class_level":"BBG001SF3L67",
                  "id_bb_sec_num":"KRPE",
                  "market_sector":"Equity",
                  "security_typ":"Common Stock",
                  "security_typ2":""
               }
            ],
            "isin":"RU000A0JNZD9"
         },
         "market_master":{
            "market":[
               {
                  "accrued_interest":{
                     "ex_div_date_ind":'false'
                  },
                  "country_of_quotation":"RU",
                  "currency_code":"USD",
                  "id":15810722,
                  "listing_trading_status":1,
                  "mic":"RUSX",
                  "never_priced_indicator":'false',
                  "primary_market_ind":'true',
                  "quotation_basis":"1",
                  "quotation_basis_descr":"Per Share",
                  "xref":{
                     "analystics_id_type_id":"21",
                     "cva_code_type_id":1,
                     "idii_type_id":6,
                     "quick_code_type_id":13,
                     "rts_ticker_type_id":19,
                     "sedol":"7217063",
                     "sedol_type_id":3,
                     "status":"Live",
                     "status_id":1,
                     "ticker":"KRPE",
                     "ticker_type_id":17
                  }
               }
            ]
         },
         "organization_master":{
            "country_of_risk":"RU",
            "org_country_code":"RU",
            "organization_id":22110067,
            "organization_status":6,
            "organization_status_descr":"Live",
            "organization_type":67,
            "organization_type_descr":"Corporation",
            "primary_name":"Krasny Perekop (Ya",
            "business_entity":{
               "issuer":{
                  "address":[
                     {
                        "address1":"63 Ul Stachek",
                        "type":"Mailing Address",
                        "type_id":2
                     },
                     {
                        "address1":"63 Ul Stachek",
                        "city":"Yaroslavl",
                        "country":"RU",
                        "postal_code":"150002",
                        "type":"Physical Address",
                        "type_id":4
                     }
                  ],
                  "bankruptcy_open_ind":'false',
                  "business_registration_num":"1027600792559",
                  "company_legal_form":"corporation",
                  "out_of_business_ind":'false',
                  "phone":"4852270836",
                  "prev_registered_name":"Joint-Stock Company \"Yaroslavsk Combine of Technical Tissue\" Red Perekop \"",
                  "publicly_traded_ind":'false',
                  "registered_name":"Krasny Perekop, AO",
                  "trade_style":"Oao \"Krasny Perekop\""
               },
               "parent":{
                  "address":[
                     {
                        "address1":"63 Ul Stachek",
                        "type_id":2
                     },
                     {
                        "address1":"63 Ul Stachek",
                        "city":"Yaroslavl",
                        "country":"RU",
                        "postal_code":"150002",
                        "type":"Physical Address",
                        "type_id":4
                     }
                  ],
                  "bankruptcy_open_ind":'false',
                  "business_registration_num":"1027600792558",
                  "out_of_business_ind":'true',
                  "phone":"4852270836",
                  "prev_registered_name":"Joint-Stock Company \"Yaroslavsk Combine of Technical Tissue\" Red Perekop \"",
                  "publicly_traded_ind":'false',
                  "registered_name":"Krasny Perekop, AO",
                  "trade_style":"Oao \"Krasny Perekop\""
               },
               "ultimate_parent":{
                  "address":[
                     {
                        "address1":"63 Ul Stachek",
                        "type":"Mailing Address",
                        "type_id":2
                     },
                     {
                        "address1":"63 Ul Stachek",
                        "city":"Yaroslavl",
                        "country":"RU",
                        "postal_code":"150002",
                        "type":"Physical Address",
                        "type_id":4
                     }
                  ],
                  "bankruptcy_open_ind":'false',
                  "business_registration_num":"1027600792559",
                  "company_legal_form":"corporation",
                  "country_of_risk":"RU",
                  "out_of_business_ind":'false',
                  "phone":"4852270836",
                  "prev_registered_name":"Joint-Stock Company \"Yaroslavsk Combine of Technical Tissue\" Red Perekop \"",
                  "publicly_traded_ind":'false',
                  "registered_name":"Krasny Perekop, AO",
                  "trade_style":"Oao \"Krasny Perekop\""
               }
            },
            "organization_xref":{
               "issuer_duns":"357843346",
               "parent_duns":"357843346",
               "ult_parent_duns":"357843346"
            }
         }
      },
      "global_information":{
         "country_information":{
            "instrument_country_information":{
               "country_code":"RU",
               "holiday_schedule":"RU"
            }
         },
         "organization_information":{
            "classifications":{
               "primary_naics_code":313210,
               "sic_code":2211
            }
         }
      },
      "debt":{
         "cmo_details":{
            "factor_parent_ind":0
         },
         "fixed_income":{
            "child_indicator":'false'
         }
      },
      "equity":{
         "equity_details":{
            "capital_gains_tax_type":1,
            "equity_type":1,
            "equity_type_descr":"Common/Ordinary Stock",
            "instrument_form":1,
            "instrument_form_descr":"Registered",
            "issued_capital_effective_date":"2001-09-21",
            "par_value":1.000000,
            "par_value_currency":"RUB",
            "ptm_levy_flag":78,
            "shares_beneficial_int_flag":'false',
            "shares_outstanding":422851,
            "shares_outstanding_effective_date":"2001-09-21",
            "total_shares_outstanding_effective_date":"2001-09-21",
            "voting_rights_code":4
         }
      }
   }

def get_paths(source):
    paths = []
    if isinstance(source, dict):  # found a dict-like structure...
        for k, v in source.items():  # iterate over it
            paths.append([k])  # add the current child path
            paths += [[k] + x for x in get_paths(v)]  # get sub-paths, extend with the current

    # else, check if a list-like structure, remove if you don't want list paths included
    elif isinstance(source, list) and not isinstance(source, str):
        for i, v in enumerate(source):
            paths.append([i])
            paths += [[i] + x for x in get_paths(v)]  # get sub-paths, extend with the current
    return paths

##Getting value of any path(in form of list) from any structure type
def deref_multi(data, keys):
    return deref_multi(data[keys[0]], keys[1:]) if keys else data

##getting all desired paths of any given structure
json1_paths,json2_paths = get_paths(json1),get_paths(json2)

matched = None
num = 0

##Looping over structure
while num < len(json1_paths):

    ##Indentying missing path
    if json1_paths[num] not in json2_paths:
        print("Missing jpath in target,{}".format('.'.join(str(v) for v in json1_paths[num])))
        num = num + 1
        continue

    ##If parent path matched, then not matching child paths - saving memory/time
    if json1_paths[num][0] == matched:
        num=num+1
        continue

    ##If parent path
    if len(json1_paths[num]) == 1:
        source,target = json1[json1_paths[num][0]], json2[json1_paths[num][0]]
        if(source == target): ##if values in both structure matches
            matched = json1_paths[num]
        
        ##if parent not matches, last parent node(single by dfault) or checking if its single parent  
        elif num == len(json1_paths)-1 or json1_paths[num][0] != json1_paths[num+1][0]:
        #elif isinstance(source,(int,str)) or isinstance(target,(int,str)):
            print('.'.join(json1_paths[num]),source,target)
    else:
        current_jpath = '.'.join(str(v) for v in json1_paths[num])
        next_jpath = '.'.join(str(v) for v in json1_paths[num+1][:-1]) if num < len(json1_paths)-1 else None

        if current_jpath != next_jpath:
            source,target = deref_multi(json1,json1_paths[num]),deref_multi(json2,json1_paths[num])
            if source != target:
                print(current_jpath,source,target)

    num = num + 1                


'''
['global_information']
['global_information', 'organization_information']
['global_information', 'organization_information', 'classifications']
['global_information', 'organization_information', 'classifications', 'primary_naics_code']
['global_information', 'organization_information', 'classifications', 'sic_code']
['global_information', 'country_information']
['global_information', 'country_information', 'instrument_country_information']
['global_information', 'country_information', 'instrument_country_information', 'country_code']
['global_information', 'country_information', 'instrument_country_information', 'holiday_schedule']
['master_information']
['master_information', 'instrument_master']
['master_information', 'instrument_master', 'apex_asset_type_descr']
['master_information', 'instrument_master', 'federal_tax_status_descr']
['master_information', 'instrument_master', 'primary_exchange']
['master_information', 'instrument_master', 'primary_currency_code']
['master_information', 'instrument_master', 'accrued_interest']
['master_information', 'instrument_master', 'accrued_interest', 'ex_div_date_ind']
['master_information', 'instrument_master', 'instrument_type_descr']
['instrument_id']
'''
