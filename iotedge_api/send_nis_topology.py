from pysyslog import MySSL_TCPClient
import time
from datetime import datetime

# This is mocked topology message of production OR of partner Mpluz MUMC orId: MPZ-NL-MUM-4 captured on 11 Nov 2022
#[https://dashboard.nexxis.barco.com/#/or-topology/MPZ-NL-MUM-4]

now = datetime.utcnow()
timestamp = (now.strftime("%Y-%m-%dT%H:%M:%S.%f")[:-3]) + 'Z'

iterations = 1
for iteration in range(iterations):
	topo_msg ='<134>1 time_stamp nms-416083332039 nms_topology - - [nexxis@12827 orId="NOI-IN-TST-1" TIME="time_stamp" IP="10.99.112.2"] {"topology":[{"Hostname":"nms-416083332039","cluster":[],"interfaces":["eth2"],"version":"1.17.01-74281","ReleaseVersion":"1.17.01.7428165d63acf0daa2f37b51969ea14fe124c8e7"},{"interfaces":["dvi1","audio1","eth0","audio2"],"Hostname":"mna-1890280514","guid":"d9b13d40-0870-1c02-e000-0004a5011c83","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio2","eth0","dvi2","audio1","dvi1"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.67:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-1890287568/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.52:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-1890287568/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-1890287568-dvi1&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-1890287568-dvi1&subnet=10.143.1.0%2F24"}],"framerate":50002,"kbm":false,"source_type":"video","interface":"dvi1","resolution":"1920x1080","source_name":"dvi1-1-mna-1890287568","aspectratio":1.7777777777777777},{"components":["w0"],"children":[{"name":"audio/x-netviz-uncompressed","uri":"udp://239.1.1.66:5004"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-1890287568-audio1&subnet=10.143.1.0%2F24"}],"kbm":false,"source_type":"audio","interface":"audio1","source_name":"audio1-4-mna-1890287568"}],"Hostname":"mna-1890287568","guid":"d9b13d40-0870-1c02-e000-0004a5011c98","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["eth0","audio2","sdi1","audio1"],"Hostname":"mna-1890295386","guid":"d9b13d40-0870-1c02-e000-0004a5071c7d","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio2","eth0","audio1","dp2","dp1"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.119:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dp1-1-mna-2530096272/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.55:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dp1-1-mna-2530096272/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530096272-dp1&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-2530096272-dp1&subnet=10.143.1.0%2F24"}],"framerate":60014,"kbm":false,"source_type":"video","interface":"dp1","resolution":"1920x1200","source_name":"dp1-1-mna-2530096272","aspectratio":1.6}],"Hostname":"mna-2530096272","guid":"d9b13d40-0870-1c02-e000-0004a5171c9a","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["dp1","dp2","audio1","eth0","audio2"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.85:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dp1-1-mna-2530095909/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.65:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dp1-1-mna-2530095909/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530095909-dp1&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-2530095909-dp1&subnet=10.143.1.0%2F24"}],"framerate":60006,"kbm":false,"source_type":"video","interface":"dp1","resolution":"1024x768","source_name":"dp1-1-mna-2530095909","aspectratio":1.3333333333333333}],"Hostname":"mna-2530095909","guid":"d9b13d40-0870-1c02-e000-0004a5181ccb","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["eth0","audio2","sdi1","audio1"],"Hostname":"mna-1891008768","guid":"d9b13d40-0870-1c02-e000-0004a51c1c76","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["sdi1","audio1","eth0","audio2"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.38:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/sdi1-1-mna-1891011186/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.73:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/sdi1-1-mna-1891011186/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-1891011186-sdi1&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-1891011186-sdi1&subnet=10.143.1.0%2F24"}],"framerate":25000,"kbm":false,"source_type":"video","interface":"sdi1","resolution":"1920x1080","source_name":"sdi1-1-mna-1891011186","aspectratio":1.7777777777777777}],"Hostname":"mna-1891011186","guid":"d9b13d40-0870-1c02-e000-0004a51c1c7a","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["vd","audio2","eth0","vga","audio1"],"Hostname":"mna-1891008195","guid":"d9b13d40-0870-1c02-e000-0004a51d1ce0","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["eth0","audio2","dvi1","audio1","dvi2"],"Hostname":"mna-2530035969","guid":"d9b13d40-0870-1c02-e000-0004a5200a3f","Gender":"DECODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["eth0","vga","audio2","vd","audio1"],"Hostname":"mna-2530059831","guid":"d9b13d40-0870-1c02-e000-0004a5220af8","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio2","eth0","vga","vd","audio1"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.71:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/vd-2-mna-2530062892/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.56:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/vd-2-mna-2530062892/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530062892-vd&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-2530062892-vd&subnet=10.143.1.0%2F24"}],"framerate":25000,"kbm":false,"source_type":"video","interface":"vd","resolution":"720x576","source_name":"vd-2-mna-2530062892","aspectratio":1.3333333333333333}],"Hostname":"mna-2530062892","guid":"d9b13d40-0870-1c02-e000-0004a5230a7b","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["vd","audio2","eth0","vga","audio1"],"Hostname":"mna-2530062900","guid":"d9b13d40-0870-1c02-e000-0004a5230a7f","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio1","eth0","vga","audio2","vd"],"Hostname":"mna-2530062890","guid":"d9b13d40-0870-1c02-e000-0004a5230a80","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio1","eth0","vga","audio2","vd"],"Hostname":"mna-2530062153","guid":"d9b13d40-0870-1c02-e000-0004a5230a81","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio1","vd","eth0","vga","audio2"],"Hostname":"mna-2530062154","guid":"d9b13d40-0870-1c02-e000-0004a5230a84","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["eth0","audio2","dvi2","dvi1","audio1"],"Hostname":"mna-2530060718","guid":"d9b13d40-0870-1c02-e000-0004a5230b79","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio1","dvi1","dvi2","audio2","eth0"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.25:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-2530062224/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.48:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-2530062224/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530062224-dvi1&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-2530062224-dvi1&subnet=10.143.1.0%2F24"}],"framerate":59981,"kbm":false,"source_type":"video","interface":"dvi1","resolution":"1280x1024","source_name":"dvi1-1-mna-2530062224","aspectratio":1.25}],"Hostname":"mna-2530062224","guid":"d9b13d40-0870-1c02-e000-0004a5240b41","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["dvi2","dvi1","audio1","eth0","audio2"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.79:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-2530062233/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.58:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-2530062233/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530062233-dvi1&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-2530062233-dvi1&subnet=10.143.1.0%2F24"}],"framerate":50002,"kbm":false,"source_type":"video","interface":"dvi1","resolution":"1920x1080","source_name":"dvi1-1-mna-2530062233","aspectratio":1.7777777777777777}],"Hostname":"mna-2530062233","guid":"d9b13d40-0870-1c02-e000-0004a5240b77","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio2","eth0","audio1","dvi1","dvi2"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.75:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-2530062124/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.62:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-2530062124/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530062124-dvi1&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-2530062124-dvi1&subnet=10.143.1.0%2F24"}],"framerate":50002,"kbm":false,"source_type":"video","interface":"dvi1","resolution":"1920x1080","source_name":"dvi1-1-mna-2530062124","aspectratio":1.7777777777777777}],"Hostname":"mna-2530062124","guid":"d9b13d40-0870-1c02-e000-0004a5240b79","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio2","eth0","dvi2","audio1","dvi1"],"sinks":[{"layout":"/Default/full.layout","slots":"1","conn":[{"slot":"1","source":"dvi1-1-mna-2530232346"}],"session-consistency":{"session":105,"uuid":[],"consistent":true},"refreshRate":60000,"sink_name":"mna-L11S120160210144338 0","interface":"dvi1","type":"video","resolution":"1920x1080"}],"Hostname":"mna-L11S120160210144338","guid":"d9b13d40-0870-1c02-e000-0004a52f1cb7","Gender":"DECODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"online","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["eth0","audio2","dvi2","dvi1","audio1"],"sinks":[{"layout":"/Default/full.layout","slots":"1","conn":[{"slot":"1","source":"dvi1-1-mna-2530232346"}],"session-consistency":{"session":107,"uuid":[],"consistent":true},"refreshRate":60000,"sink_name":"mna-2530264388 0","interface":"dvi1","type":"video","resolution":"1920x1080"},{"conn":[{"slot":"1","source":""}],"session-consistency":{"session":108,"uuid":["d9b13d40-0870-1c02-e000-0004a5400d8a"],"consistent":false},"sink_name":"mna-2530264388 2","interface":"audio2","type":"audio"}],"Hostname":"mna-2530264388","guid":"d9b13d40-0870-1c02-e000-0004a5400d8a","Gender":"DECODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"online","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["eth0","audio2","dvi1","audio1","dvi2"],"sinks":[{"layout":"/Default/full.layout","slots":"1","conn":[{"slot":"1","source":"dvi1-1-mna-2530232346"}],"session-consistency":{"session":106,"uuid":[],"consistent":true},"refreshRate":60000,"sink_name":"mna-L21S120200520142655 0","interface":"dvi1","type":"video","resolution":"1920x1080"}],"Hostname":"mna-L21S120200520142655","guid":"d9b13d40-0870-1c02-e000-0004a5440dba","Gender":"DECODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"online","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["eth0","audio2","dvi2","dvi1","audio1"],"sinks":[{"layout":"/Default/full.layout","slots":"1","conn":[{"slot":"1","source":"dvi1-1-mna-2530232346"}],"session-consistency":{"session":104,"uuid":[],"consistent":true},"refreshRate":60000,"sink_name":"mna-L21S120200520083100 0","interface":"dvi1","type":"video","resolution":"1920x1080"}],"Hostname":"mna-L21S120200520083100","guid":"d9b13d40-0870-1c02-e000-0004a5440dbf","Gender":"DECODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"online","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio1","dvi1","audio2","eth0"],"Hostname":"mna-2530431136","guid":"d9b13d40-0870-1c02-e000-0004a5450d04","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"offline","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audioIn","hdmiIn1","hdmiIn2","audioOut","eth"],"Hostname":"mna-420-2530430397","guid":"d9b13d40-0870-1c02-e000-0004a5460c90","Gender":"ENCODER","Firmware":"1.4.0-1-g6b58ec5","class":"MNA-420","status":"offline","ReleaseVersion":"-"},{"interfaces":["eth0","audio2","dvi1","audio1","dvi2"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.9:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-2530207721/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.40:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-2530207721/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530207721-dvi1&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-2530207721-dvi1&subnet=10.143.1.0%2F24"}],"framerate":58464,"kbm":false,"source_type":"video","interface":"dvi1","resolution":"1680x1050","source_name":"dvi1-1-mna-2530207721","aspectratio":1.6}],"Hostname":"mna-2530207721","guid":"d9b13d40-0870-1c02-e000-0004a54b1c74","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"online","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["dvi1","audio1","dvi2","eth0","audio2"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.16:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-2530209197/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.45:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi1-1-mna-2530209197/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530209197-dvi1&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-2530209197-dvi1&subnet=10.143.1.0%2F24"}],"framerate":49902,"kbm":false,"source_type":"video","interface":"dvi1","resolution":"1280x720","source_name":"dvi1-1-mna-2530209197","aspectratio":1.7777777777777777},{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.18:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi2-2-mna-2530209197/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.45:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi2-2-mna-2530209197/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530209197-dvi2&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-2530209197-dvi2&subnet=10.143.1.0%2F24"}],"framerate":49902,"kbm":false,"source_type":"video","interface":"dvi2","resolution":"1280x720","source_name":"dvi2-2-mna-2530209197","aspectratio":1.7777777777777777},{"components":["w0"],"children":[{"name":"audio/x-netviz-uncompressed","uri":"udp://239.1.1.17:5004"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530209197-audio1&subnet=10.143.1.0%2F24"}],"kbm":false,"source_type":"audio","interface":"audio1","source_name":"audio1-4-mna-2530209197"}],"Hostname":"mna-2530209197","guid":"d9b13d40-0870-1c02-e000-0004a54c1c2a","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"online","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audio1","dvi1","dvi2","audio2","eth0"],"Hostname":"mna-2530209201","guid":"d9b13d40-0870-1c02-e000-0004a54c1c48","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"online","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["dvi1","audio1","dvi2","eth0","audio2"],"sources":[{"components":["w0"],"children":[{"name":"audio/x-netviz-uncompressed","uri":"udp://239.1.1.21:5004"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530209196-audio1&subnet=10.143.1.0%2F24"}],"kbm":false,"source_type":"audio","interface":"audio1","source_name":"audio1-4-mna-2530209196"}],"Hostname":"mna-2530209196","guid":"d9b13d40-0870-1c02-e000-0004a54c1c5b","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"online","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["audioIn","hdmiIn1","hdmiIn2","audioOut","eth"],"sources":[{"components":["downscaled","left","right","downscaled_3d","left_3d","right_3d"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.210:5004"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-420-2530203340_hdmiIn1&subnet=10.143.1.0%2F24&sapversion=2"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/hdmiIn1-0-mna-420-2530203340/thumbnail"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/hdmiIn1-0-mna-420-2530203340/thumbnail"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-420-2530203340_hdmiIn1&subnet=10.143.1.0%2F24&resolution=hd&sapversion=2"},{"name":"application/x-vnc","uri":"tcp://10.143.1.51:5901"},{"name":"application/x-barco-3d","uri":"sap://224.2.127.254:9875/?s=mna-420-2530203340_hdmiIn1&subnet=10.143.1.0%2F24&sapversion=2&3d=true"}],"framerate":60000,"kbm":false,"source_type":"video","interface":"hdmiIn1","resolution":"1280x1024","source_name":"hdmiIn1-0-mna-420-2530203340","aspectratio":1.25}],"Hostname":"mna-420-2530203340","guid":"d9b13d40-0870-1c02-e000-0004a54e281a","Gender":"ENCODER","Firmware":"1.3.1-6-geda79b3","class":"MNA-420","status":"offline","ReleaseVersion":"-"},{"interfaces":["audio2","eth0","audio1","dvi1","dvi2"],"sources":[{"components":["w0"],"children":[{"name":"video/x-netviz-uncompressed","uri":"udp://239.1.1.15:5004"},{"name":"multipart/x-mixed-replace","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi2-2-mna-2530232351/thumbnail"},{"name":"application/x-vnc","uri":"tcp://10.143.1.44:5901"},{"name":"image/jpeg","uri":"https://10.143.1.10:8443/barco-webservice/rest/NetworkWall/source/dvi2-2-mna-2530232351/thumbnail"},{"name":"application/x-barco-sdp-in-sap","uri":"sap://224.2.127.254:9875/?s=mna-2530232351-dvi2&subnet=10.143.1.0%2F24"},{"name":"application/x-barco-downscaled","uri":"sap://224.2.127.254:9875/?s=mna-2530232351-dvi2&subnet=10.143.1.0%2F24"}],"framerate":59926,"kbm":false,"source_type":"video","interface":"dvi2","resolution":"1920x1080","source_name":"dvi2-2-mna-2530232351","aspectratio":1.7777777777777777}],"Hostname":"mna-2530232351","guid":"d9b13d40-0870-1c02-e000-0004a5511c0c","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"online","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["eth0","audio2","dvi1","audio1","dvi2"],"Hostname":"mna-2530232346","guid":"d9b13d40-0870-1c02-e000-0004a5511c0f","Gender":"ENCODER","Firmware":"v1.09.01-svn11980","class":"NETVIZDONGLE","status":"online","ReleaseVersion":"v1.09.01-svn11980"},{"interfaces":["hdmiIn1","audioIn","eth","hdmiIn2","audioOut"],"Hostname":"mna-420-2530489553","guid":"d9b13d40-0870-1c02-e000-0004a5520d60","Gender":"ENCODER","Firmware":"1.4.0-1-g6b58ec5","class":"MNA-420","status":"offline","ReleaseVersion":"-"}],"orId":"NOI-IN-TST-1","events":[{"source-unavailable":"dvi1-1-mna-2530232351"}],"timestamp":"time_stamp"}'

	topo_msg_modified = topo_msg.replace("time_stamp", timestamp)
	data = str(len(topo_msg_modified)) + ' ' + topo_msg_modified

	#dev01
	client = MySSL_TCPClient("10.99.112.29", 6514 )


	print("\n Topology Timestamp :", timestamp)
	client.send(data)
	print('Topology sent')
	#time.sleep(60)
